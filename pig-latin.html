<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>pig-latin</title>
    <style>
        header {
            background: white;
            padding: 1px 10px 10px 10px;
        }
    </style>
</head>
<body>
    <header>
        <h1>Pig Latin</h1>
        <p>
            Translate the provided string to pig latin.
            Pig Latin takes the first consonant (or consonant cluster) of an English word, moves it to the end of the word and suffixes an "ay".    
            If a word begins with a vowel you just add "way" to the end.    
            Input strings are guaranteed to be English words in all lowercase.
        </p> 
        <ul>
            <li><a href="https://en.wikipedia.org/wiki/Pig_Latin">Pig Latin</a></li>
            <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf">Array.prototype.indexOf()</a></li>
            <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/push?v=a">Array.prototype.push()</a></li>
            <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/join">Array.prototype.join()</a></li>
            <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/substr">String.prototype.substr()</a></li>
            <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/split">String.prototype.split()</a></li>
        </ul>
    </header>
    <script src="simple-test-lib.js"></script>
    <script>

        function translatePigLatin(str) {

            // Rule 1.
            // For words that begin with consonant sounds, 
            // all letters before the initial vowel are placed 
            // at the end of the word sequence. Then, "ay" is added.

            // Rule 2.
            // for words that begin with vowel sounds, 
            // one just adds "way" or "yay" to the end (or just "ay").

            // Rule 3.
            // When words begin with consonant clusters (multiple consonants that form one sound), 
            // the whole sound is added to the end when speaking or writing.

            var vowels = ['a', 'e', 'i', 'o', 'u'];

            if (vowels.indexOf(str.charAt(0)) === -1) {
                str = str.slice(1) + str.charAt(0) + 'ay';
            } else {
                str = str + 'way';
            }


            

            for (var i = 0; i < str.length; i++) {
                if (vowels.indexOf(str[i]) !== -1) {
                    console.log(str.slice(i) + str.slice(0, i) + 'ay');
                    break;
                }
            }


            return str;
        }

        tests({

            'It should return "aliforniacay".': function() {
                var testStr = translatePigLatin("california");
                eq(testStr, 'aliforniacay');
            },

            'It should return "aragraphspay".': function() {
                var testStr = translatePigLatin("paragraphs");
                eq(testStr, 'aragraphspay');
            },

            'It should return "oveglay".': function() {
                var testStr = translatePigLatin("gl ove");
                eq(testStr, 'oveglay');
            },

            'It should return "algorithmway".': function() {
                var testStr = translatePigLatin("algorithm");
                eq(testStr, 'algorithmway');
            },

            'It should return "eightway".': function() {
                var testStr = translatePigLatin("eight");
                eq(testStr, 'eightway');
            }

        });
    </script>
</body>
</html>